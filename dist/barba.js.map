{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap d24d1e65d94ad251fd7a","webpack:///./utils/utils.js","webpack:///./dispatcher/dispatcher.js","webpack:///./cache/static.js","webpack:///./pjax/historyManager.js","webpack:///./pjax/pjax.js","webpack:///./transition/baseTransition.js","webpack:///./pjax/prefetch.js","webpack:///./view/baseView.js","webpack:///./pjax/dom.js","webpack:///./transition/hideShowTransition.js","webpack:///./index.js"],"names":["getCurrentUrl","window","location","protocol","host","pathname","search","cleanLink","url","replace","xhrTimeout","xhr","dfd","deferred","headers","Headers","append","fetch","method","cache","then","res","status","resolve","text","err","Error","statusText","reject","catch","promise","Promise","getPort","p","port","parseInt","events","on","e","f","push","once","self","newf","off","apply","arguments","splice","indexOf","trigger","i","length","Array","prototype","slice","call","data","set","key","val","get","reset","history","add","namespace","undefined","currentStatus","prevStatus","Dom","History","Cache","cacheEnabled","transitionProgress","ignoreClassLink","start","init","container","getContainer","wrapper","getWrapper","setAttribute","getNamespace","currentHTML","bindEvents","document","addEventListener","onLinkClick","bind","onStateChange","goTo","pushState","forceGoTo","load","_this","parseResponse","putContainer","getHref","el","getAttribute","href","evt","target","parentNode","preventCheck","stopPropagation","preventDefault","element","which","metaKey","ctrlKey","shiftKey","altKey","hostname","classList","contains","getTransition","newUrl","newContainer","transition","transitionInstance","onNewContainerLoaded","onTransitionEnd","BaseTransition","oldContainer","newContainerLoading","_newContainerPromise","newContainerReady","removeChild","style","visibility","body","onLinkEnter","BaseView","newStatus","oldStatus","onLeave","onEnter","onEnterCompleted","onLeaveCompleted","dataNamespace","wrapperId","containerClass","documentElement","innerHTML","responseText","createElement","titleEl","querySelector","title","textContent","getElementById","parseContainer","appendChild","HideShowTransition","finish","scrollTo","done","module","exports","version","Dispatcher","HistoryManager","Pjax","Prefetch","Utils"],"mappings":"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","file":"barba.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"Barba\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Barba\"] = factory();\n\telse\n\t\troot[\"Barba\"] = factory();\n})(this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 10);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap d24d1e65d94ad251fd7a","/**\n * Just an object with some helpful functions\n *\n * @type {Object}\n * @namespace Barba.Utils\n */\nexport default {\n  /**\n   * Return the current url\n   *\n   * @memberOf Barba.Utils\n   * @return {String} currentUrl\n   */\n  getCurrentUrl() {\n    return window.location.protocol + '//' +\n           window.location.host +\n           window.location.pathname +\n           window.location.search;\n  },\n\n  /**\n   * Given an url, return it without the hash\n   *\n   * @memberOf Barba.Utils\n   * @private\n   * @param  {String} url\n   * @return {String} newCleanUrl\n   */\n  cleanLink(url) {\n    return url.replace(/#.*/, '');\n  },\n\n  /**\n   * Time in millisecond after the xhr request goes in timeout\n   *\n   * @memberOf Barba.Utils\n   * @type {Number}\n   * @default\n   */\n  xhrTimeout: 5000,\n\n  /**\n   * Start an XMLHttpRequest() and return a Promise\n   *\n   * @memberOf Barba.Utils\n   * @param  {String} url\n   * @return {Promise}\n   */\n  xhr(url) {\n    // const deferred = this.deferred();\n    // let timeout;\n\n    // new Promise((resolve, reject) => {\n    //   timeout = window.setTimeout(() => {\n    //     reject(new Error('xhr: Timeout exceeded'));\n    //   }, this.xhrTimeout);\n    // });\n\n    const dfd = this.deferred();\n\n    const headers = new Headers();\n    headers.append('x-barba', 'yes');\n\n    fetch(url, {\n      method: 'GET',\n      headers,\n      cache: 'default',\n    }).then(res => {\n      if (res.status >= 200 && res.status < 300){\n        return dfd.resolve(res.text());\n      }\n\n      const err = new Error(res.statusText || res.status);\n      return dfd.reject(err);\n    }).catch(err => {\n      dfd.reject(err);\n    });\n\n\n    return dfd.promise;\n\n    // var deferred = this.deferred();\n    // var req = new XMLHttpRequest();\n\n    // req.onreadystatechange = () => {\n    //   if (req.readyState === 4) {\n    //     // TODO CHECK THIS\n    //     if (req.status === 200) {\n    //       return deferred.resolve(req.responseText);\n    //     } else {\n    //       return deferred.reject(new Error('xhr: HTTP code is not 200'));\n    //     }\n    //   }\n    // };\n\n    // req.ontimeout = () => {\n    //   return deferred.reject(new Error('xhr: Timeout exceeded'));\n    // };\n\n    // req.open('GET', url);\n    // req.timeout = this.xhrTimeout;\n    // req.setRequestHeader('x-barba', 'yes');\n    // req.send();\n\n    // return deferred.promise;\n  },\n\n  /**\n   * Return a new \"Deferred\" object\n   * https://developer.mozilla.org/en-US/docs/Mozilla/JavaScript_code_modules/Promise.jsm/Deferred\n   *\n   * @memberOf Barba.Utils\n   * @return {Deferred}\n   */\n  deferred() {\n    return new function() {\n      this.resolve = null;\n      this.reject = null;\n\n      this.promise = new Promise((resolve, reject) => {\n        this.resolve = resolve;\n        this.reject = reject;\n      });\n    };\n  },\n\n  /**\n   * Return the port number normalized, eventually you can pass a string to be normalized.\n   *\n   * @memberOf Barba.Utils\n   * @private\n   * @param  {String} p\n   * @return {Int} port\n   */\n  getPort(p) {\n    var port = typeof p !== 'undefined' ? p : window.location.port;\n    var protocol = window.location.protocol;\n\n    if (port != '')\n      return parseInt(port);\n\n    if (protocol === 'http:')\n      return 80;\n\n    if (protocol === 'https:')\n      return 443;\n  }\n};\n\n\n\n// WEBPACK FOOTER //\n// ./utils/utils.js","/**\n * Little Dispatcher inspired by MicroEvent.js\n *\n * @namespace Barba.Dispatcher\n * @type {Object}\n */\nexport default {\n  /**\n   * Object that keeps all the events\n   *\n   * @memberOf Barba.Dispatcher\n   * @readOnly\n   * @type {Object}\n   */\n  events: {},\n\n  /**\n   * Bind a callback to an event\n   *\n   * @memberOf Barba.Dispatcher\n   * @param  {String} eventName\n   * @param  {Function} function\n   */\n  on(e, f) {\n    this.events[e] = this.events[e] || [];\n    this.events[e].push(f);\n  },\n\n  once(e, f) {\n    let self = this;\n\n    function newf() {\n      self.off(e, newf);\n      f.apply(this, arguments);\n    };\n\n    this.on(e, newf);\n  },\n\n  /**\n   * Unbind event\n   *\n   * @memberOf Barba.Dispatcher\n   * @param  {String} eventName\n   * @param  {Function} function\n   */\n  off(e, f) {\n    if(e in this.events === false)\n      return;\n\n    this.events[e].splice(this.events[e].indexOf(f), 1);\n  },\n\n  /**\n   * Fire the event running all the event associated to it\n   *\n   * @memberOf Barba.Dispatcher\n   * @param  {String} eventName\n   * @param  {...*} args\n   */\n  trigger(e) {//e, ...args\n    if (e in this.events === false)\n      return;\n\n    for(let i = 0; i < this.events[e].length; i++){\n      this.events[e][i].apply(this, Array.prototype.slice.call(arguments, 1));\n    }\n  }\n};\n\n\n\n// WEBPACK FOOTER //\n// ./dispatcher/dispatcher.js","import Utils from '../utils/utils.js';\n\n/**\n * Simple static cache\n *\n * @namespace Barba.Cache\n * @type {Object}\n */\nexport default {\n  /**\n   * The Object that keeps all the key value information\n   *\n   * @memberOf Barba.Cache\n   * @type {Object}\n   */\n  data: {},\n\n  /**\n   * Set a key and value data, mainly Barba is going to save promises\n   *\n   * @memberOf Barba.Cache\n   * @param {String} key\n   * @param {*} value\n   */\n  set(key, val) {\n    this.data[key] = val;\n  },\n\n  /**\n   * Retrieve the data using the key\n   *\n   * @memberOf Barba.Cache\n   * @param  {String} key\n   * @return {*}\n   */\n  get(key) {\n    return this.data[key];\n  },\n\n  /**\n   * Flush the cache\n   *\n   * @memberOf Barba.Cache\n   */\n  reset() {\n    this.data = {};\n  }\n};\n\n\n\n// WEBPACK FOOTER //\n// ./cache/static.js","/**\n * HistoryManager helps to keep track of the navigation\n *\n * @namespace Barba.HistoryManager\n * @type {Object}\n */\nexport default {\n  /**\n   * Keep track of the status in historic order\n   *\n   * @memberOf Barba.HistoryManager\n   * @readOnly\n   * @type {Array}\n   */\n  history: [],\n\n  /**\n   * Add a new set of url and namespace\n   *\n   * @memberOf Barba.HistoryManager\n   * @param {String} url\n   * @param {String} namespace\n   * @private\n   */\n  add: function(url, namespace) {\n    if (!namespace)\n      namespace = undefined;\n\n    this.history.push({\n      url: url,\n      namespace: namespace\n    });\n  },\n\n  /**\n   * Return information about the current status\n   *\n   * @memberOf Barba.HistoryManager\n   * @return {Object}\n   */\n  currentStatus: function() {\n    return this.history[this.history.length - 1];\n  },\n\n  /**\n   * Return information about the previous status\n   *\n   * @memberOf Barba.HistoryManager\n   * @return {Object}\n   */\n  prevStatus: function() {\n    var history = this.history;\n\n    if (history.length < 2)\n      return null;\n\n    return history[history.length - 2];\n  }\n};\n\n\n\n// WEBPACK FOOTER //\n// ./pjax/historyManager.js","import Utils from '../utils/utils';\nimport Dispatcher from '../dispatcher/dispatcher';\nimport HideShowTransition from '../transition/hideShowTransition';\nimport Cache from '../cache/static';\n\nimport HistoryManager from './historyManager';\nimport Dom from './dom';\n\n/**\n * Pjax is a static object with main function\n *\n * @namespace Barba.Pjax\n * @borrows Dom as Dom\n * @type {Object}\n */\nexport default {\n  Dom: Dom,\n  History: HistoryManager,\n  Cache: Cache,\n\n  /**\n   * Indicate wether or not use the cache\n   *\n   * @memberOf Barba.Pjax\n   * @type {Boolean}\n   * @default\n   */\n  cacheEnabled: true,\n\n  /**\n   * Indicate if there is an animation in progress\n   *\n   * @memberOf Barba.Pjax\n   * @readOnly\n   * @type {Boolean}\n   */\n  transitionProgress: false,\n\n  /**\n   * Class name used to ignore links\n   *\n   * @memberOf Barba.Pjax\n   * @type {String}\n   * @default\n   */\n  ignoreClassLink: 'no-barba',\n\n  /**\n   * Function to be called to start Pjax\n   *\n   * @memberOf Barba.Pjax\n   */\n  start: function() {\n    this.init();\n  },\n\n  /**\n   * Init the events\n   *\n   * @memberOf Barba.Pjax\n   * @private\n   */\n  init: function() {\n    var container = this.Dom.getContainer();\n    var wrapper = this.Dom.getWrapper();\n\n    wrapper.setAttribute('aria-live', 'polite');\n\n    this.History.add(\n      this.getCurrentUrl(),\n      this.Dom.getNamespace(container)\n    );\n\n    //Fire for the current view.\n    Dispatcher.trigger('initStateChange', this.History.currentStatus());\n    Dispatcher.trigger('newPageReady',\n      this.History.currentStatus(),\n      {},\n      container,\n      this.Dom.currentHTML\n    );\n    Dispatcher.trigger('transitionCompleted', this.History.currentStatus());\n\n    this.bindEvents();\n  },\n\n  /**\n   * Attach the eventlisteners\n   *\n   * @memberOf Barba.Pjax\n   * @private\n   */\n  bindEvents: function() {\n    document.addEventListener('click',\n      this.onLinkClick.bind(this)\n    );\n\n    window.addEventListener('popstate',\n      this.onStateChange.bind(this)\n    );\n  },\n\n  /**\n   * Return the currentURL cleaned\n   *\n   * @memberOf Barba.Pjax\n   * @return {String} currentUrl\n   */\n  getCurrentUrl: function() {\n    // TODO, clean from what? currenturl do not takes hash..\n    return Utils.cleanLink(\n      Utils.getCurrentUrl()\n    );\n  },\n\n  /**\n   * Change the URL with pushstate and trigger the state change\n   *\n   * @memberOf Barba.Pjax\n   * @param {String} newUrl\n   */\n  goTo: function(url) {\n    window.history.pushState(null, null, url);\n    this.onStateChange();\n  },\n\n  /**\n   * Force the browser to go to a certain url\n   *\n   * @memberOf Barba.Pjax\n   * @param {String} url\n   * @private\n   */\n  forceGoTo: function(url) {\n    window.location = url;\n  },\n\n  /**\n   * Load an url, will start an xhr request or load from the cache\n   *\n   * @memberOf Barba.Pjax\n   * @private\n   * @param  {String} url\n   * @return {Promise}\n   */\n  load: function(url) {\n    var deferred = Utils.deferred();\n    var _this = this;\n    var xhr;\n\n    xhr = this.Cache.get(url);\n\n    if (!xhr) {\n      xhr = Utils.xhr(url);\n      this.Cache.set(url, xhr);\n    }\n\n    xhr.then(\n      function(data) {\n        var container = _this.Dom.parseResponse(data);\n\n        _this.Dom.putContainer(container);\n\n        if (!_this.cacheEnabled)\n          _this.Cache.reset();\n\n        deferred.resolve(container);\n      },\n      function() {\n        //Something went wrong (timeout, 404, 505...)\n        _this.forceGoTo(url);\n\n        deferred.reject();\n      }\n    );\n\n    return deferred.promise;\n  },\n\n  /**\n   * Get the .href parameter out of an element\n   * and handle special cases (like xlink:href)\n   *\n   * @private\n   * @memberOf Barba.Pjax\n   * @param  {HTMLElement} el\n   * @return {String} href\n   */\n  getHref: function(el) {\n    if (!el) {\n      return undefined;\n    }\n\n    if (el.getAttribute && typeof el.getAttribute('xlink:href') === 'string') {\n      return el.getAttribute('xlink:href');\n    }\n\n    if (typeof el.href === 'string') {\n      return el.href;\n    }\n\n    return undefined;\n  },\n\n  /**\n   * Callback called from click event\n   *\n   * @memberOf Barba.Pjax\n   * @private\n   * @param {MouseEvent} evt\n   */\n  onLinkClick: function(evt) {\n    var el = evt.target;\n\n    //Go up in the nodelist until we\n    //find something with an href\n    while (el && !this.getHref(el)) {\n      el = el.parentNode;\n    }\n\n    if (this.preventCheck(evt, el)) {\n      evt.stopPropagation();\n      evt.preventDefault();\n\n      Dispatcher.trigger('linkClicked', el, evt);\n\n      var href = this.getHref(el);\n      this.goTo(href);\n    }\n  },\n\n  /**\n   * Determine if the link should be followed\n   *\n   * @memberOf Barba.Pjax\n   * @param  {MouseEvent} evt\n   * @param  {HTMLElement} element\n   * @return {Boolean}\n   */\n  preventCheck: function(evt, element) {\n    if (!window.history.pushState)\n      return false;\n\n    var href = this.getHref(element);\n\n    //User\n    if (!element || !href)\n      return false;\n\n    //Middle click, cmd click, and ctrl click\n    if (evt.which > 1 || evt.metaKey || evt.ctrlKey || evt.shiftKey || evt.altKey)\n      return false;\n\n    //Ignore target with _blank target\n    if (element.target && element.target === '_blank')\n      return false;\n\n    //Check if it's the same domain\n    if (window.location.protocol !== element.protocol || window.location.hostname !== element.hostname)\n      return false;\n\n    //Check if the port is the same\n    if (Utils.getPort() !== Utils.getPort(element.port))\n      return false;\n\n    //Ignore case when a hash is being tacked on the current URL\n    if (href.indexOf('#') > -1)\n      return false;\n\n    //Ignore case where there is download attribute\n    if (element.getAttribute && typeof element.getAttribute('download') === 'string')\n      return false;\n\n    //In case you're trying to load the same page\n    if (Utils.cleanLink(href) == Utils.cleanLink(location.href))\n      return false;\n\n    if (element.classList.contains(this.ignoreClassLink))\n      return false;\n\n    return true;\n  },\n\n  /**\n   * Return a transition object\n   *\n   * @memberOf Barba.Pjax\n   * @return {Barba.Transition} Transition object\n   */\n  getTransition: function() {\n    //User customizable\n    return HideShowTransition;\n  },\n\n  /**\n   * Method called after a 'popstate' or from .goTo()\n   *\n   * @memberOf Barba.Pjax\n   * @private\n   */\n  onStateChange: function() {\n    var newUrl = this.getCurrentUrl();\n\n    if (this.transitionProgress)\n      this.forceGoTo(newUrl);\n\n    if (this.History.currentStatus().url === newUrl)\n      return false;\n\n    this.History.add(newUrl);\n\n    var newContainer = this.load(newUrl);\n    var transition = new (this.getTransition())();\n\n    this.transitionProgress = true;\n\n    Dispatcher.trigger('initStateChange',\n      this.History.currentStatus(),\n      this.History.prevStatus()\n    );\n\n    var transitionInstance = transition.init(\n      this.Dom.getContainer(),\n      newContainer\n    );\n\n    newContainer.then(\n      this.onNewContainerLoaded.bind(this)\n    );\n\n    transitionInstance.then(\n      this.onTransitionEnd.bind(this)\n    );\n  },\n\n  /**\n   * Function called as soon the new container is ready\n   *\n   * @memberOf Barba.Pjax\n   * @private\n   * @param {HTMLElement} container\n   */\n  onNewContainerLoaded: function(container) {\n    var currentStatus = this.History.currentStatus();\n    currentStatus.namespace = this.Dom.getNamespace(container);\n\n    Dispatcher.trigger('newPageReady',\n      this.History.currentStatus(),\n      this.History.prevStatus(),\n      container,\n      this.Dom.currentHTML\n    );\n  },\n\n  /**\n   * Function called as soon the transition is finished\n   *\n   * @memberOf Barba.Pjax\n   * @private\n   */\n  onTransitionEnd: function() {\n    this.transitionProgress = false;\n\n    Dispatcher.trigger('transitionCompleted',\n      this.History.currentStatus(),\n      this.History.prevStatus()\n    );\n  }\n};\n\n\n\n// WEBPACK FOOTER //\n// ./pjax/pjax.js","import Utils from '../utils/utils';\n\n/**\n * BaseTransition to extend\n *\n * @namespace Barba.BaseTransition\n * @type {Object}\n */\nexport default class BaseTransition {\n  constructor() {\n    this.oldContainer = undefined;\n    this.newContainer = undefined;\n    this.newContainerLoading = undefined;\n  }\n\n  /**\n   * This function is called from Pjax module to initialize\n   * the transition.\n   *\n   * @memberOf Barba.BaseTransition\n   * @private\n   * @param  {HTMLElement} oldContainer\n   * @param  {Promise} newContainer\n   * @return {Promise}\n   */\n  init(oldContainer, newContainer) {\n    var _this = this;\n\n    this.oldContainer = oldContainer;\n    this._newContainerPromise = newContainer;\n\n    this.deferred = Utils.deferred();\n    this.newContainerReady = Utils.deferred();\n    this.newContainerLoading = this.newContainerReady.promise;\n\n    this.start();\n\n    this._newContainerPromise.then(function(newContainer) {\n      _this.newContainer = newContainer;\n      _this.newContainerReady.resolve();\n    });\n\n    return this.deferred.promise;\n  }\n\n  /**\n   * This function needs to be called as soon the Transition is finished\n   *\n   * @memberOf Barba.BaseTransition\n   */\n  done() {\n    this.oldContainer.parentNode.removeChild(this.oldContainer);\n    this.newContainer.style.visibility = 'visible';\n    this.deferred.resolve();\n  }\n\n  /**\n   * Constructor for your Transition\n   *\n   * @memberOf Barba.BaseTransition\n   * @abstract\n   */\n  start() {\n\n  }\n};\n\n\n\n// WEBPACK FOOTER //\n// ./transition/baseTransition.js","import Utils from '../utils/utils';\nimport Pjax from './pjax';\n\n/**\n * Prefetch\n *\n * @namespace Barba.Prefetch\n * @type {Object}\n */\nexport default {\n  /**\n   * Class name used to ignore prefetch on links\n   *\n   * @memberOf Barba.Prefetch\n   * @type {String}\n   * @default\n   */\n  ignoreClassLink: 'no-barba-prefetch',\n\n  /**\n   * Init the event listener on mouseover and touchstart\n   * for the prefetch\n   *\n   * @memberOf Barba.Prefetch\n   */\n  init: function() {\n    if (!window.history.pushState) {\n      return false;\n    }\n\n    document.body.addEventListener('mouseover', this.onLinkEnter.bind(this));\n    document.body.addEventListener('touchstart', this.onLinkEnter.bind(this));\n  },\n\n  /**\n   * Callback for the mousehover/touchstart\n   *\n   * @memberOf Barba.Prefetch\n   * @private\n   * @param  {Object} evt\n   */\n  onLinkEnter: function(evt) {\n    var el = evt.target;\n\n    while (el && !Pjax.getHref(el)) {\n      el = el.parentNode;\n    }\n\n    if (!el || el.classList.contains(this.ignoreClassLink)) {\n      return;\n    }\n\n    var url = Pjax.getHref(el);\n\n    //Check if the link is elegible for Pjax\n    if (Pjax.preventCheck(evt, el) && !Pjax.Cache.get(url)) {\n      var xhr = Utils.xhr(url);\n      Pjax.Cache.set(url, xhr);\n    }\n  }\n};\n\n\n\n// WEBPACK FOOTER //\n// ./pjax/prefetch.js","import Dispatcher from '../dispatcher/dispatcher';\n\nexport default class BaseView {\n  constructor() {\n    this.namespace = null;\n  }\n\n  init() {\n    var _this = this;\n\n    Dispatcher.on('initStateChange',\n      function(newStatus, oldStatus) {\n        if (oldStatus && oldStatus.namespace === _this.namespace)\n          _this.onLeave();\n      }\n    );\n\n    Dispatcher.on('newPageReady',\n      function(newStatus, oldStatus, container) {\n        _this.container = container;\n\n        if (newStatus.namespace === _this.namespace)\n          _this.onEnter();\n      }\n    );\n\n    Dispatcher.on('transitionCompleted',\n      function(newStatus, oldStatus) {\n        if (newStatus.namespace === _this.namespace)\n          _this.onEnterCompleted();\n\n        if (oldStatus && oldStatus.namespace === _this.namespace)\n          _this.onLeaveCompleted();\n      }\n    );\n  }\n\n  /**\n   * This function will be fired when the container\n   * is ready and attached to the DOM.\n   *\n   * @memberOf Barba.BaseView\n   * @abstract\n   */\n   onEnter() {}\n\n   /**\n    * This function will be fired when the transition\n    * to this container has just finished.\n    *\n    * @memberOf Barba.BaseView\n    * @abstract\n    */\n   onEnterCompleted() {}\n\n   /**\n    * This function will be fired when the transition\n    * to a new container has just started.\n    *\n    * @memberOf Barba.BaseView\n    * @abstract\n    */\n   onLeave() {}\n\n   /**\n    * This function will be fired when the container\n    * has just been removed from the DOM.\n    *\n    * @memberOf Barba.BaseView\n    * @abstract\n    */\n   onLeaveCompleted() {}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./view/baseView.js","/**\n * Object that is going to deal with DOM parsing/manipulation\n *\n * @namespace Barba.Pjax.Dom\n * @type {Object}\n */\nexport default {\n  /**\n   * The name of the data attribute on the container\n   *\n   * @memberOf Barba.Pjax.Dom\n   * @type {String}\n   * @default\n   */\n  dataNamespace: 'namespace',\n\n  /**\n   * Id of the main wrapper\n   *\n   * @memberOf Barba.Pjax.Dom\n   * @type {String}\n   * @default\n   */\n  wrapperId: 'barba-wrapper',\n\n  /**\n   * Class name used to identify the containers\n   *\n   * @memberOf Barba.Pjax.Dom\n   * @type {String}\n   * @default\n   */\n  containerClass: 'barba-container',\n\n  /**\n   * Full HTML String of the current page.\n   * By default is the innerHTML of the initial loaded page.\n   *\n   * Each time a new page is loaded, the value is the response of the xhr call.\n   *\n   * @memberOf Barba.Pjax.Dom\n   * @type {String}\n   */\n  currentHTML: document.documentElement.innerHTML,\n\n  /**\n   * Parse the responseText obtained from the xhr call\n   *\n   * @memberOf Barba.Pjax.Dom\n   * @private\n   * @param  {String} responseText\n   * @return {HTMLElement}\n   */\n  parseResponse: function(responseText) {\n    this.currentHTML = responseText;\n\n    var wrapper = document.createElement('div');\n    wrapper.innerHTML = responseText;\n\n    var titleEl = wrapper.querySelector('title');\n\n    if (titleEl)\n      document.title = titleEl.textContent;\n\n    return this.getContainer(wrapper);\n  },\n\n  /**\n   * Get the main barba wrapper by the ID `wrapperId`\n   *\n   * @memberOf Barba.Pjax.Dom\n   * @return {HTMLElement} element\n   */\n  getWrapper: function() {\n    var wrapper = document.getElementById(this.wrapperId);\n\n    if (!wrapper)\n      throw new Error('Barba.js: wrapper not found!');\n\n    return wrapper;\n  },\n\n  /**\n   * Get the container on the current DOM,\n   * or from an HTMLElement passed via argument\n   *\n   * @memberOf Barba.Pjax.Dom\n   * @private\n   * @param  {HTMLElement} element\n   * @return {HTMLElement}\n   */\n  getContainer: function(element) {\n    if (!element)\n      element = document.body;\n\n    if (!element)\n      throw new Error('Barba.js: DOM not ready!');\n\n    var container = this.parseContainer(element);\n\n    // wtf?\n    // if (container && container.jquery)\n    //   container = container[0];\n\n    if (!container)\n      throw new Error('Barba.js: no container found');\n\n    return container;\n  },\n\n  /**\n   * Get the namespace of the container\n   *\n   * @memberOf Barba.Pjax.Dom\n   * @private\n   * @param  {HTMLElement} element\n   * @return {String}\n   */\n  getNamespace: function(element) {\n    // if (element && element.dataset) {\n    //   return element.dataset[this.dataNamespace];\n    // } else if (element) {\n    //   return element.getAttribute('data-' + this.dataNamespace);\n    // }\n\n    if (!element) {\n      return null;\n    }\n\n    return element.getAttribute(`data-${this.dataNamespace}`);\n  },\n\n  /**\n   * Put the container on the page\n   *\n   * @memberOf Barba.Pjax.Dom\n   * @private\n   * @param  {HTMLElement} element\n   */\n  putContainer: function(element) {\n    element.style.visibility = 'hidden';\n\n    var wrapper = this.getWrapper();\n    wrapper.appendChild(element);\n  },\n\n  /**\n   * Get container selector\n   *\n   * @memberOf Barba.Pjax.Dom\n   * @private\n   * @param  {HTMLElement} element\n   * @return {HTMLElement} element\n   */\n  parseContainer: function(element) {\n    return element.querySelector('.' + this.containerClass);\n  }\n};\n\n\n\n// WEBPACK FOOTER //\n// ./pjax/dom.js","import BaseTransition from './baseTransition';\n\nexport default class HideShowTransition extends BaseTransition {\n  start() {\n    this.newContainerLoading.then(this.finish.bind(this));\n  }\n\n  finish() {\n    window.scrollTo(0,0);\n    this.done();\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./transition/hideShowTransition.js","import BaseTransition from './transition/baseTransition';\nimport BaseView from './view/baseView';\nimport Cache from './cache/static';\nimport Dispatcher from './dispatcher/dispatcher';\nimport HistoryManager from './pjax/historyManager';\nimport Pjax from './pjax/pjax';\nimport Prefetch from './pjax/prefetch';\nimport Utils from './utils/utils';\n\n//Promise polyfill https://github.com/taylorhakes/promise-polyfill\n\n// if (typeof Promise !== 'function') {\n//   window.Promise = require('promise-polyfill');\n// }\n//\n// Fetch polyfill\n\nmodule.exports = {\n  version: VERSION,\n  BaseTransition,\n  BaseView,\n  Cache,\n  Dispatcher,\n  HistoryManager,\n  Pjax,\n  Prefetch,\n  Utils\n};\n\n\n\n// WEBPACK FOOTER //\n// ./index.js"],"sourceRoot":""}