---
# Front matter comment to ensure Jekyll properly reads file.
---

{% include header.html %}

<div id="barba-wrapper">
  <div class="barba-container">
    <h1>How it works</h1>
    <p>barba.js uses PJAX (aka push state ajax) to enhance the user's experience.</p>
    <p>This technique consist in preventing the normal link behavior, changing manually the browser url, and injecting manually the new content in the page. In this way there will be no browser "hard refresh".</p>

    <p>Here is al walkthrough of what happens when the user click a link:</p>
    <ol>
      <li>Check if the link is valid and elegible for PJAX, if yes, prevent the normal browser behavior.</li>
      <li>Change the URL.</li>
      <li>Sart fetching the new page.</li>
      <li>Create a new transition instance.</li>
      <li>As soon the new page is loaded, barba.js parses the new HTML (taking .barba-container) and put the new content on the DOM.</li>
      <li>The transition instance will take care to hide the old container and show the new one.</li>
      <li>As soon the transition is finished, the old page is removed from the DOM.</li>
    </ol>

    <h2>Why?</h2>
    <p>Using this technique will bring numerous benefit:</p>
    <ul>
      <li>Possibility to create transition between pages.</li>
      <li>Reduce HTTP requests. (why load the logo/css/js at each page change?)</li>
    </ul>

    <blockquote>
      <p>Please note, on server side, your pages will need to be served normally.</p>
    </blockquote>
  </div>
</div>

{% include nav.html %}
{% include footer.html %}
